(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-329391e0"],{"5fc7":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[t._v(t._s(t.text))])],1)},n=[],i={name:"Breadcrumb",props:{text:{type:String,default:""}}},c=i,s=a("4ac2"),l=Object(s["a"])(c,r,n,!1,null,"403b8861",null);e["a"]=l.exports},"67da":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"d",(function(){return i})),a.d(e,"f",(function(){return c})),a.d(e,"c",(function(){return s})),a.d(e,"e",(function(){return l})),a.d(e,"a",(function(){return u}));var r=a("1bab");function n(t){return Object(r["a"])({url:"/articles",method:"post",data:t})}function i(t){return Object(r["a"])({url:"/articles/"+t})}function c(t,e){return Object(r["a"])({url:"/articles/"+t,method:"put",data:e})}function s(t){return Object(r["a"])({url:"/articles/"+t,method:"delete"})}function l(t){return Object(r["a"])({url:"/articles",params:t})}function u(t){return Object(r["c"])({url:"/article",method:"post",data:t})}},cccf:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("breadcrumb",{attrs:{text:"文章列表"}}),a("el-card",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addArticle}},[t._v("添加文章")]),a("el-table",{attrs:{data:t.articleList}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{label:"所属分类",border:"",stripe:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.cate.map((function(t){return t.name})).join("/")))])]}}])}),a("el-table-column",{attrs:{width:"550px",label:"标题",prop:"title"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return t.edit(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return t._delete(e.row)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":t.pageParams.pagenum,"page-sizes":[5,8,10,15],"page-size":t.pageParams.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},n=[],i=a("5fc7"),c=a("67da"),s={name:"ArticleList",data(){return{articleList:[],pageParams:{pagenum:1,pagesize:5},total:0}},components:{Breadcrumb:i["a"]},methods:{async getArticleList(){const t=await Object(c["e"])(this.pageParams);this.total=t.data.total,this.articleList=t.data.data},edit(t){this.$router.push("/article/edit/"+t._id)},async _delete(t){try{await this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const e=await Object(c["c"])(t._id);if(!e)return;this.$message.success("删除成功"),this.getArticleList()}catch(e){this.$message.info("已取消删除")}},addArticle(){this.$router.push("/article/create")},handleSizeChange(t){this.pageParams.pagesize=t,this.getArticleList()},handleCurrentChange(t){this.pageParams.pagenum=t,this.getArticleList()}},async created(){this.getArticleList();await Object(c["e"])()}},l=s,u=a("4ac2"),o=Object(u["a"])(l,r,n,!1,null,"9a5d59a4",null);e["default"]=o.exports}}]);
//# sourceMappingURL=chunk-329391e0.0d456560.js.map