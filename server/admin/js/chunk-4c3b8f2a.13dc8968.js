(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c3b8f2a"],{"096a":function(e,t,a){"use strict";a("837c")},"12c6":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return o}));var r=a("1bab");function n(e){return Object(r["a"])({url:"/heros",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/heros/"+e})}function c(e,t){return Object(r["a"])({url:"/heros/"+e,method:"put",data:t})}function i(e){return Object(r["a"])({url:"/heros/"+e,method:"delete"})}function o(e){return Object(r["a"])({url:"/heros",params:e})}},"5fc7":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v(e._s(e.text))])],1)},n=[],s={name:"Breadcrumb",props:{text:{type:String,default:""}}},c=s,i=a("4ac2"),o=Object(i["a"])(c,r,n,!1,null,"403b8861",null);t["a"]=o.exports},"837c":function(e,t,a){},"8cfb":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("breadcrumb",{attrs:{text:"英雄列表"}}),a("el-card",[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{maxlength:"8",clearable:"",placeholder:"请输入英雄名称"},model:{value:e.heroQuery,callback:function(t){e.heroQuery=t},expression:"heroQuery"}})],1),a("el-col",{attrs:{span:3}},[a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchHero}},[e._v("搜索")])],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addHeroClick}},[e._v("添加英雄")])],1)],1),a("el-table",{attrs:{data:e.heroList,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.skills,(function(t){return a("div",{key:t._id,staticClass:"skills"},[a("div",{staticClass:"skill"},[a("img",{staticClass:"skill-icon",attrs:{src:t.icon}}),a("h3",[e._v(e._s(t.name))])])])}))}}])}),a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{label:"英雄名称",prop:"name"}}),a("el-table-column",{attrs:{label:"英雄称号",prop:"title"}}),a("el-table-column",{attrs:{label:"所属分类",border:"",stripe:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.cate.map((function(e){return e.name})).join("/")))])]}}])}),a("el-table-column",{attrs:{label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"hero-avatar",attrs:{src:e.row.avatar}})]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.edit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e._delete(t.row)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.pageParams.pagenum,"page-sizes":[5,8,10,15],"page-size":e.pageParams.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],s=a("12c6"),c=a("5fc7"),i={name:"HeroList",components:{Breadcrumb:c["a"]},data(){return{heroList:[],pageParams:{pagenum:1,pagesize:5},total:0,heroQuery:""}},methods:{async getHeroList(){const e=await Object(s["d"])(this.pageParams);this.total=e.data.total,this.heroList=e.data.data},addHeroClick(){this.$router.push("/hero/create")},async edit(e){await Object(s["c"])(e._id);this.$router.push("/hero/edit/"+e._id)},async _delete(e){try{await this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const t=await Object(s["b"])(e._id);if(!t)return;this.$message.success(t.data.message),this.getHeroList()}catch(t){this.$message.info("已取消删除")}},async searchHero(){this.pageParams.query=this.heroQuery,this.pageParams.pagenum=1,this.getHeroList(this.pageParams)},handleSizeChange(e){this.pageParams.pagesize=e,this.getHeroList()},handleCurrentChange(e){this.pageParams.pagenum=e,this.getHeroList()}},created(){this.getHeroList()}},o=i,l=(a("096a"),a("4ac2")),u=Object(l["a"])(o,r,n,!1,null,"79d020c2",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-4c3b8f2a.13dc8968.js.map